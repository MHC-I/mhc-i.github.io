<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Automator 创建的快速操作默认存储位置</title>
    <url>/2024/Automator%20%E5%88%9B%E5%BB%BA%E7%9A%84%E5%BF%AB%E9%80%9F%E6%93%8D%E4%BD%9C%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE/</url>
    <content><![CDATA[<div class="highlight-container" data-rel="Awk"><figure class="iseeu highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/Users/</span>用户名<span class="regexp">/Library/</span>Services</span><br><span class="line"><span class="regexp">/Users/</span>coco<span class="regexp">/Library/</span>Services</span><br></pre></td></tr></table></figure></div>

]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Automator</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Excel DATEDIF 函数 计算两个日期差值</title>
    <url>/2024/Excel%20DATEDIF%E5%87%BD%E6%95%B0%20%E8%AE%A1%E7%AE%97%E4%B8%A4%E4%B8%AA%E6%97%A5%E6%9C%9F%E5%B7%AE%E5%80%BC/</url>
    <content><![CDATA[<div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">DATEDIF</span><span class="params">(start_date, end_date, unit)</span></span></span><br></pre></td></tr></table></figure></div>
<p>unit：表示日期差值的单位。常用的单位有：</p>
<ul>
<li>“Y”：计算完整的年数差。</li>
<li>“M”：计算完整的月数差。</li>
<li>“D”：计算天数差。</li>
<li>“MD”：计算两个日期之间的天数差，但不考虑月份和年份。</li>
<li>“YM”：计算两个日期之间的月数差，但不考虑年份。</li>
<li>“YD”：计算两个日期之间的天数差，但不考虑年份。</li>
</ul>
]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>Excel</tag>
        <tag>随访</tag>
        <tag>日期</tag>
      </tags>
  </entry>
  <entry>
    <title>GPT 中译英指令</title>
    <url>/2024/GPT%20%E4%B8%AD%E8%AF%91%E8%8B%B1%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<p>I want you to act as a scientific English-Chinese translator, I will provide you with some paragraphs in English and your task is to accurately and academically translate the paragraphs only into Chinese. Do not repeat the original provided paragraphs after translation. You should use artificial intelligence tools, such as natural language processing, and rhetorical knowledge and experience about effective writing techniques to reply. I’ll give you my paragraphs as follows, tell me what language it is written in, and then translate:</p>
<blockquote>
<p>我想让你充当一名科学的英汉翻译，我会向你提供一些英文段落，你的任务是准确、学术性地将这些段落翻译成中文。翻译后不要重复原文提供的段落。你应该使用人工智能工具，如自然语言处理，以及有关有效写作技巧的修辞知识和经验来回答。以下是我提供的段落，请告诉我是用什么语言写的，然后翻译：</p>
</blockquote>
<p>假设你是一名资深的中英文翻译大师和英语学术作者，请帮我翻译一些中文段落成英文，确保你的语言符合专业学术期刊的语言风格。对翻译的要求有以下几点:1.确保翻译成英文的语言和原文意义一致，不可篡改原文意思；2.提供确切定义，确保你的术语和定义准确无误，特别是对于领域的专有名词和术语；3. 确保语言的逻辑关系准确，条理清晰；4. 采用简洁明确的表达方式，避免使用模糊或不必要的词汇、术语或句子；5. 注意英语语法表达的准确性，确保句子结构正确。你能做到吗？</p>
]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>GPT</tag>
        <tag>翻译</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo发布之后GitHub Pages自定义域名失效</title>
    <url>/2024/Hexo%E5%8F%91%E5%B8%83%E4%B9%8B%E5%90%8EGitHub%20Pages%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%A4%B1%E6%95%88/</url>
    <content><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>每次<code>hexo deploy</code>之后，访问自己的GitHub Pages自定义域名会404，重新查看仓库的设置发现Custom domain项变成空白</p>
<h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p><code>source</code> 目录下新建一个<code>CNAME</code>文件(没有后缀)，然后在这个文件中填入自己的域名，重新发布</p>
<div align="center"> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-14%2021.50.20.webp"
                      style="zoom : 60%" 
                > </div>

]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>GitHub Pages</tag>
        <tag>域名</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac 调整启动台 LaunchPad 的图标</title>
    <url>/2024/Mac%20%E8%B0%83%E6%95%B4%E5%90%AF%E5%8A%A8%E5%8F%B0%20LaunchPad%20%E7%9A%84%E5%9B%BE%E6%A0%87/</url>
    <content><![CDATA[<h2 id="调整行数"><a href="#调整行数" class="headerlink" title="调整行数"></a>调整行数</h2><div class="highlight-container" data-rel="Pgsql"><figure class="iseeu highlight pgsql"><table><tr><td class="code"><pre><span class="line">defaults <span class="keyword">write</span> com.apple.dock springboard-<span class="keyword">rows</span> -<span class="type">int</span> <span class="number">6</span></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure></div>

<p>恢复默认</p>
<div class="highlight-container" data-rel="Pgsql"><figure class="iseeu highlight pgsql"><table><tr><td class="code"><pre><span class="line">defaults <span class="keyword">write</span> com.apple.dock springboard-<span class="keyword">rows</span> <span class="keyword">Default</span></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure></div>

<h2 id="调整列数"><a href="#调整列数" class="headerlink" title="调整列数"></a>调整列数</h2><div class="highlight-container" data-rel="Pgsql"><figure class="iseeu highlight pgsql"><table><tr><td class="code"><pre><span class="line">defaults <span class="keyword">write</span> com.apple.dock springboard-<span class="keyword">columns</span> -<span class="type">int</span> <span class="number">8</span></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure></div>

<p>恢复默认</p>
<div class="highlight-container" data-rel="Pgsql"><figure class="iseeu highlight pgsql"><table><tr><td class="code"><pre><span class="line">defaults <span class="keyword">write</span> com.apple.dock springboard-<span class="keyword">columns</span> <span class="keyword">Default</span></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure></div>

<h2 id="重新自动排列图标"><a href="#重新自动排列图标" class="headerlink" title="重新自动排列图标"></a>重新自动排列图标</h2><div class="highlight-container" data-rel="Pgsql"><figure class="iseeu highlight pgsql"><table><tr><td class="code"><pre><span class="line">defaults <span class="keyword">write</span> com.apple.dock ResetLaunchPad -<span class="type">bool</span> <span class="keyword">TRUE</span></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>引用自：<a class="link"   href="https://developer.aliyun.com/article/1074176" >https://developer.aliyun.com/article/1074176 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>LaunchPad</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOS 鼠标快速切屏</title>
    <url>/2024/MacOS%20%E9%BC%A0%E6%A0%87%E5%BF%AB%E9%80%9F%E5%88%87%E5%B1%8F/</url>
    <content><![CDATA[<ol>
<li><p>系统设置→搜索栏输入<code>键盘和鼠标快捷键</code>→点击<code>键盘和鼠标快捷键</code></p>
<p> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-12-12%2023.09.41.png"
                      alt="截屏2024-12-12 23.09.41"
                ></p>
</li>
<li><p>将调度中心鼠标快捷键设置为<code>鼠标3键</code></p>
</li>
<li><p>每次点击鼠标中键打开调度中心，快速切换程序</p>
<p> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-12-12%2023.06.52.png"
                      alt="截屏2024-12-12 23.06.52"
                ></p>
</li>
</ol>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>鼠标</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux 删除子目录下特定后缀文件</title>
    <url>/2024/Linux%20%E5%88%A0%E9%99%A4%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%89%B9%E5%AE%9A%E5%90%8E%E7%BC%80%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">find /path/to/parent_directory -<span class="built_in">type</span> f -name <span class="string">&quot;*.lrc&quot;</span> -<span class="built_in">exec</span> <span class="built_in">rm</span> &#123;&#125; \;</span><br><span class="line">- <span class="built_in">type</span> f <span class="comment"># 指定文件类型为普通文件， f（普通文件）、d（目录）、l（符号链接）</span></span><br><span class="line">- name <span class="comment"># 按文件名查找，支持使用通配符 * 和 ?</span></span><br><span class="line">-<span class="built_in">exec</span> <span class="built_in">rm</span> &#123;&#125; \; <span class="comment">#-exec 选项允许你执行一个命令，&#123;&#125; 将会被匹配到的文件名替代，\; 表示命令结束</span></span><br></pre></td></tr></table></figure></div>

<p>🔗：<a class="link"   href="https://www.runoob.com/linux/linux-comm-find.html" >find命令详细说明 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Navidrome 不同艺术家导致同一专辑被拆分</title>
    <url>/2024/Navidrome%E4%B8%8D%E5%90%8C%E8%89%BA%E6%9C%AF%E5%AE%B6%E5%AF%BC%E8%87%B4%E5%90%8C%E4%B8%80%E4%B8%93%E8%BE%91%E8%A2%AB%E6%8B%86%E5%88%86/</url>
    <content><![CDATA[<h2 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h2><p>查看几个存在相同问题的专辑发现其共同的问题是专辑内歌曲的<code>艺术家</code>不同，且<code>专辑艺术家</code>为空（当然这已经是修改之后的了）。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-03-09%2020.19.01-bheh.webp"
                      alt="截屏2024-03-09 20.19.01-bheh"
                ></p>
<h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>解决思路就是使用<a class="link"   href="https://github.com/xhongc/music-tag-web" >Music-tag-web <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>或其他软件修改歌曲信息，修改<code>专辑艺术家</code>为同一艺术家（修改该项并不会影响软件中的艺术家显示）。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-03-09%2020.24.37.webp"
                      alt="截屏2024-03-09 20.24.37"
                ></p>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Navidrome</tag>
        <tag>专辑</tag>
      </tags>
  </entry>
  <entry>
    <title>Navidrome 配置中文说明</title>
    <url>/2024/Navidrome%E9%85%8D%E7%BD%AE%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<div class="highlight-container" data-rel="Ini"><figure class="iseeu highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="comment"># This is just an example! Please see available options to customize Navidrome for your needs at</span></span><br><span class="line"><span class="comment"># https://www.navidrome.org/docs/usage/configuration-options/#available-options</span></span><br><span class="line"><span class="comment">#启动命令 ./navidrome --configfile ./navidrome.toml </span></span><br><span class="line"><span class="attr">MusicFolder</span> = <span class="string">&quot;/mnt/sda2/Public/Music&quot;</span>  <span class="comment">#存储音乐库的文件夹。可以是只读的</span></span><br><span class="line"><span class="attr">DataFolder</span> =  <span class="string">&quot;/mnt/sda2/Configs/Navidrome&quot;</span>  <span class="comment">#用于存储应用程序数据 （DB） 的文件夹</span></span><br><span class="line"><span class="attr">CacheFolder</span> = <span class="string">&quot;/mnt/sda2/Configs/Navidrome/cache&quot;</span>  <span class="comment">#用于存储缓存数据（转码、图像等）的文件夹</span></span><br><span class="line"><span class="attr">LogLevel</span> = <span class="string">&quot;info&quot;</span>  <span class="comment">#日志级别。用于故障排除。可能的值：error、warn、info、debug、trace</span></span><br><span class="line"><span class="attr">Address</span> = <span class="string">&quot;0.0.0.0&quot;</span> <span class="comment">#服务器将绑定到的地址。 可以是 IPv4 或 IPv6。还支持 Unix 套接字文件的 unix：/path/to/file</span></span><br><span class="line"><span class="attr">BaseUrl</span> = <span class="string">&quot;&quot;</span>  <span class="comment">#用于在代理后面配置 Navidrome 的基本 URL（例如：/music、https://music.example.com）</span></span><br><span class="line"><span class="attr">Port</span> = <span class="number">4533</span>  <span class="comment">#Navidrome 将使用的 HTTP 端口</span></span><br><span class="line"><span class="attr">DefaultLanguage</span> = <span class="string">&quot;zh-Hans&quot;</span>  <span class="comment">#设置从新浏览器登录时 UI 使用的默认语言。此值必须与 resources/i18n 中的某个文件名匹配。例如：对于简体中文，它必须是 zh-Hans（区分大小写）</span></span><br><span class="line"><span class="comment">#转码相关</span></span><br><span class="line"><span class="attr">TranscodingCacheSize</span> = <span class="string">&quot;1000MB&quot;</span>  <span class="comment">#转码缓存的大小。设置为“0”以禁用缓存</span></span><br><span class="line"><span class="attr">SessionTimeout</span> = <span class="string">&quot;24h&quot;</span>  <span class="comment">#Navidrome 在关闭 Web UI 空闲会话之前将等待多长时间</span></span><br><span class="line"><span class="attr">ImageCacheSize</span> = <span class="string">&quot;1000MB&quot;</span>  <span class="comment">#图像（艺术作品）缓存的大小。设置为“0”以禁用缓存</span></span><br><span class="line"><span class="attr">EnableTranscodingConfig</span> = <span class="string">&quot;TRUE&quot;</span>  <span class="comment">#在 UI 中启用转码配置A</span></span><br><span class="line"><span class="comment">#高级选项</span></span><br><span class="line"><span class="attr">EnableSharing</span> = <span class="string">&#x27;TRUE&#x27;</span>  <span class="comment">#启用共享功能</span></span><br><span class="line"><span class="comment">#TLSCert = &quot;&quot;  #TLS 证书文件的路径，其中应包含签名链（如果有）</span></span><br><span class="line"><span class="comment">#TLSKey = &quot;&quot;  #TLS 密钥文件的路径</span></span><br><span class="line"><span class="comment">#UILoginBackgroundUrl = &#x27;random music image from Unsplash.com&#x27;  #更改登录页面中使用的背景图像</span></span><br><span class="line"><span class="attr">UIWelcomeMessage</span> = <span class="string">&quot;外奥康姆&quot;</span>  <span class="comment">#在登录屏幕添加欢迎消息</span></span><br><span class="line"><span class="comment">#AuthRequestLimit  = 5  #在 AuthWindowLength 期间，可以从单个 IP 处理多少个登录请求。设置为 0 可禁用限制</span></span><br><span class="line"><span class="attr">AuthWindowLength</span> = <span class="string">&quot;20s&quot;</span>  <span class="comment">#身份验证速率限制的窗口长度</span></span><br><span class="line"><span class="comment">#AutoImportPlaylists = &#x27;TRUE&#x27;  #启用/禁用 .m3u 播放列表自动导入</span></span><br><span class="line"><span class="attr">CoverArtPriority</span> = <span class="string">&#x27;cover.*, folder.*, front.*, embedded, external&#x27;</span>  <span class="comment">#配置顺序以查找封面艺术图像。使用特殊的嵌入值从音频文件中获取嵌入的图像</span></span><br><span class="line"><span class="attr">ArtistArtPriority</span> = <span class="string">&#x27;artist.*, album/artist.*, external&#x27;</span>  <span class="comment">#配置顺序以查找艺术家图像。</span></span><br><span class="line"><span class="comment">#CoverJpegQuality = 75  #设置调整大小的封面艺术图像的 JPEG 质量百分比</span></span><br><span class="line"><span class="comment">#DefaultDownsamplingFormat = &#x27;opus&#x27;  #客户端请求缩减采样时要转码的格式（指定不带格式的 maxBitrate）</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#DefaultTheme = &#x27;Dark&#x27;  #设置 UI 从新浏览器登录时使用的默认主题。此值必须与 UI 中的某个选项匹配</span></span><br><span class="line"><span class="comment">#EnableArtworkPrecache = &#x27;TRUE&#x27;  #启用新添加音乐的图像预缓存</span></span><br><span class="line"><span class="comment">#EnableCoverAnimation = &#x27;TRUE&#x27;  #控制 UI 中的播放器是否对专辑封面进行动画处理（旋转）</span></span><br><span class="line"><span class="comment">#EnableDownloads = &#x27;TRUE&#x27;  #在UI中启用该选项以从服务器下载音乐/专辑/艺术家/播放列表</span></span><br><span class="line"><span class="comment">#EnableExternalServices = &#x27;TRUE&#x27;  #将此设置为 &#x27;FALSE&#x27; 可完全禁用所有外部集成</span></span><br><span class="line"><span class="attr">EnableFavourites</span> = <span class="string">&#x27;TRUE&#x27;</span>  <span class="comment">#在UI中为歌曲/专辑/艺术家启用切换“Heart”/“Loved”（映射到Subsonic Clients中的“Star”/“Starred”）</span></span><br><span class="line"><span class="comment">#EnableGravatar = &#x27;FALSE&#x27;  #使用 Gravatar 图像作为用户配置文件图像。需要填写用户的电子邮件</span></span><br><span class="line"><span class="comment">#EnableLogRedacting = &#x27;TRUE&#x27;  #是否应在日志中编辑（隐藏）敏感信息（如令牌和密码）</span></span><br><span class="line"><span class="comment">#EnableMediaFileCoverArt = &#x27;TRUE&#x27;  #如果设置为 &#x27;FALSE&#x27;，则在请求歌曲 CoverArt 时将返回专辑 CoverArt</span></span><br><span class="line"><span class="comment">#EnableReplayGain = &#x27;TRUE&#x27;  #在UI中启用ReplayGain选项</span></span><br><span class="line">    </span><br><span class="line"><span class="attr">EnableStarRating</span> = <span class="string">&#x27;TRUE&#x27;</span>  <span class="comment">#在 UI 中启用 5 星评级</span></span><br><span class="line"><span class="attr">EnableUserEditing</span> = <span class="string">&#x27;TRUE&#x27;</span>  <span class="comment">#使普通用户能够编辑其详细信息并更改其密码</span></span><br><span class="line"><span class="comment">#FFmpegPath = &quot;&quot;  #ffmpeg 可执行文件的路径。当 Navidrome 找不到它，或者您想使用特定版本时使用它</span></span><br><span class="line"><span class="comment">#GATrackingID = &quot;&quot; # (disabled) 将基本信息发送到您自己的 Google Analytics（分析）帐户。 必须采用 UA-XXXXXXXX 格式</span></span><br><span class="line"><span class="comment">#IgnoredArticles = &quot;The El La Los Las Le Les Os As O A&quot;  #对艺术家进行排序/索引时忽略的文章列表</span></span><br><span class="line"><span class="comment">#Jukebox.Enabled = &#x27;FALSE&#x27;  #启用自动存储塔模式（在服务器硬件上播放音频） 详情请点击这里</span></span><br><span class="line"><span class="comment">#Jukebox.Devices = &quot;&quot;  #(auto detect) 自动存储塔可以使用的设备列表。详情请点击这里</span></span><br><span class="line"><span class="comment">#Jukebox.Default = &quot;&quot;  #(auto detect)用于自动存储塔模式的设备（如果有多个 Jukebox.Devices 条目）。详情请点击这里</span></span><br><span class="line"><span class="comment">#LastFM.ApiKey = &#x27;Navidrome project’s shared ApiKey&#x27;  #Last.fm ApiKey</span></span><br><span class="line"><span class="comment">#LastFM.Enabled = &#x27;TRUE&#x27;  #将此设置为 &#x27;FALSE&#x27; 以完全禁用 Last.fm 集成</span></span><br><span class="line"><span class="comment">#LastFM.Language = &quot;en&quot;  #用于从 Last.fm 检索传记的语言的两个字母代码</span></span><br><span class="line"><span class="comment">#LastFM.Secret = &#x27;Navidrome project’s shared Secret&#x27;  #Last.fm 共享密钥</span></span><br><span class="line"><span class="comment">#ListenBrainz.BaseURL = &#x27;https://api.listenbrainz.org/1/  #设置此选项可覆盖默认的 ListenBrainz 基 URL（适用于 Maloja* 等自托管解决方案）</span></span><br><span class="line"><span class="comment">#ListenBrainz.Enabled = &#x27;TRUE&#x27;  #将此设置为 &#x27;FALSE&#x27; 可完全禁用 ListenBrainz 集成</span></span><br><span class="line"><span class="comment">#MaxSidebarPlaylists = &#x27;100&#x27;  #设置 UI 边栏中显示的最大播放列表数量。请注意，非常大的数字可能会导致 UI 性能问题。</span></span><br><span class="line"><span class="comment">#MPVPath = &quot;&quot; # (search in PATH) mpv 可执行文件的路径。用于自动存储塔模式</span></span><br><span class="line"><span class="comment">#PasswordEncryptionKey = &#x27;-  #用于加密数据库中的密码的密码。详情请点击这里</span></span><br><span class="line"><span class="comment">#PlaylistsPath = &quot;.:**/**&quot; #从何处搜索和导入播放列表。可以是文件夹/glob 的列表（在 Windows 上用 ：（或 ;）分隔）。路径必须相对于 MusicFolder</span></span><br><span class="line"><span class="comment">#Prometheus.Enabled = &#x27;FALSE&#x27;  #使用 Prometheus 指标启用额外终端节点。</span></span><br><span class="line"><span class="comment">#Prometheus.MetricsPath = &quot;/metrics&quot;  #Prometheus 指标的自定义路径。可用于阻止未经授权的指标请求。</span></span><br><span class="line"><span class="comment">#RecentlyAddedByModTime = &#x27;FALSE&#x27;  #使用按“最近添加”排序时音乐文件的修改时间。否则，使用导入时间</span></span><br><span class="line"><span class="comment">#ReverseProxyUserHeader = &quot;Remote-User&quot;  #包含来自经过身份验证的代理的用户名的 HTTP 标头</span></span><br><span class="line"><span class="comment">#ReverseProxyWhitelist = &quot;&quot;  #允许使用反向代理身份验证的 IP CIDR 的逗号分隔列表，空表示“全部拒绝”</span></span><br><span class="line"><span class="comment">#Scanner.Extractor = &quot;taglib&quot;  #选择元数据提取器实现。选项：taglib 或 ffmpeg</span></span><br><span class="line"><span class="comment">#Scanner.GenreSeparators = &quot;;/,&quot;  #用于拆分流派标签的分隔符列表</span></span><br><span class="line"><span class="comment">#Scanner.GroupAlbumReleases = &#x27;FALSE&#x27;  #“&#x27;TRUE&#x27;”将具有相同艺术家 + 专辑标题的专辑分组为一张专辑;“&#x27;FALSE&#x27;”将重新发行（=不同的发行日期）拆分为单独的专辑</span></span><br><span class="line"><span class="comment">#ScanSchedule = &quot;@every 1m&quot;  #使用“cron”语法配置定期扫描。要完全禁用它，请将其设置为“0”</span></span><br><span class="line"><span class="comment">#SearchFullString = &#x27;FALSE&#x27;  #匹配可搜索字段中任意位置的查询字符串，而不仅仅是单词边界。适用于单词不以空格分隔的语言</span></span><br><span class="line"><span class="comment">#Spotify.ID = &quot;&quot;  #Spotify 客户端 ID。 如果您想要艺术家图像，则为必填项</span></span><br><span class="line"><span class="comment">#Spotify.Secret = &quot;&quot;  #Spotify 客户端密钥。如果需要艺术家图像，则为必填项</span></span><br><span class="line"><span class="comment">#SubsonicArtistParticipations = &#x27;FALSE&#x27;  #请求艺人专辑时，请包括艺人参与的专辑（例如：各种艺人合辑）</span></span><br></pre></td></tr></table></figure></div>

<p><a class="link"   href="https://www.navidrome.org/docs/usage/configuration-options/#available-options" >Docker变量配置说明 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Navidrome</tag>
        <tag>配置</tag>
      </tags>
  </entry>
  <entry>
    <title>Redefine 主题优化--细节优化</title>
    <url>/2024/Redefine%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h2 id="移动端上方紧贴header修复"><a href="#移动端上方紧贴header修复" class="headerlink" title="移动端上方紧贴header修复"></a>移动端上方紧贴header修复</h2><h3 id="Home页"><a href="#Home页" class="headerlink" title="Home页"></a>Home页</h3><p>文件路径：<code>/themes/redefine/source/css/layout/home-content.styl</code></p>
<p>在<code>+redefine-mobile()</code>下添加内容<code>padding-top 20px</code> </p>
<div class="highlight-container" data-rel="Styl"><figure class="iseeu highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.home-content-container</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">hexo-config</span>(<span class="string">&#x27;home.sidebar.enable&#x27;</span>) &amp;&amp; <span class="built_in">hexo-config</span>(<span class="string">&#x27;home.sidebar.position&#x27;</span>) == <span class="string">&#x27;right&#x27;</span>)</span><br><span class="line">    <span class="attribute">margin-left</span> <span class="variable">$spacing</span>-unit</span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">      <span class="attribute">margin-left</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">      <span class="attribute">margin-left</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">padding-top</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">hexo-config</span>(<span class="string">&#x27;home.sidebar.enable&#x27;</span>) &amp;&amp; <span class="built_in">hexo-config</span>(<span class="string">&#x27;home.sidebar.position&#x27;</span>) == <span class="string">&#x27;left&#x27;</span>)</span><br><span class="line">    <span class="attribute">margin-right</span> <span class="variable">$spacing</span>-unit</span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">      <span class="attribute">margin-right</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">      <span class="attribute">margin-right</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">padding-top</span> <span class="number">20px</span></span><br></pre></td></tr></table></figure></div>

<h3 id="Categories页和tag页"><a href="#Categories页和tag页" class="headerlink" title="Categories页和tag页"></a>Categories页和tag页</h3><p>文件路径：<br><code>/themes/redefine/layout/category-content.ejs</code><br><code>/themes/redefine/layout/tag-content.ejs</code></p>
<p>在第一行添加内容<code>shadow-none hover:shadow-none sm:shadow-redefine sm:hover:shadow-redefine-hover</code></p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;category-container shadow-none hover:shadow-none sm:shadow-redefine sm:hover:shadow-redefine-hover&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tag-container shadow-none hover:shadow-none sm:shadow-redefine sm:hover:shadow-redefine-hover&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div>

<h2 id="Sidebar-内显示悬浮二维码"><a href="#Sidebar-内显示悬浮二维码" class="headerlink" title="Sidebar 内显示悬浮二维码"></a>Sidebar 内显示悬浮二维码</h2><p>文件路径：<code>/themes/redefine/layout/_partials/home-sidebar.ejs</code></p>
<h3 id="修改主题配置"><a href="#修改主题配置" class="headerlink" title="修改主题配置"></a>修改主题配置</h3><div class="highlight-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">home:</span></span><br><span class="line">  <span class="attr">sidebar:</span></span><br><span class="line">      <span class="attr">links:</span></span><br><span class="line">      <span class="attr">Wechat:</span></span><br><span class="line">        <span class="attr">icon:</span> <span class="string">fa-brands</span> <span class="string">fa-weixin</span></span><br><span class="line">        <span class="attr">qr:</span> <span class="string">/assets/weixin.webp</span></span><br><span class="line"><span class="comment"># qr: /assets/weixin.webp即为二维码图片位置</span></span><br></pre></td></tr></table></figure></div>

<h3 id="修改-home-sidebar-ejs"><a href="#修改-home-sidebar-ejs" class="headerlink" title="修改 home-sidebar.ejs"></a>修改 home-sidebar.ejs</h3><p>将原来显示链接的地方加入判断条件，若配置文件中含二维码即按悬浮二维码的形式显示</p>
<p>修改前</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;links&quot;</span> href=<span class="string">&quot;&lt;%= url_for(theme.home.sidebar.links[i].path) %&gt;&quot;</span>&gt;</span><br><span class="line">    &lt;% <span class="keyword">if</span> (theme.<span class="property">home</span>.<span class="property">sidebar</span>.<span class="property">links</span>[i].<span class="property">icon</span>) &#123; %&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%- theme.home.sidebar.links[i].icon %&gt; icon-space&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;link-name&quot;</span>&gt;</span>&lt;%= __(i) %&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/a&gt;</span><br></pre></td></tr></table></figure></div>

<p>修改后</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">home</span>.<span class="property">sidebar</span>.<span class="property">links</span>[i].<span class="property">qr</span>) &#123; %&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;social-contact-item links&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%- theme.home.sidebar.links[i].icon %&gt; icon-space&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;link-name&quot;</span>&gt;</span>&lt;%= __(i) %&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;social-qr-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;social-contacts-qr&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- url_for(theme.home.sidebar.links[i].qr) %&gt;&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;% &#125; <span class="keyword">else</span> &#123;%&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;links&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%= url_for(theme.home.sidebar.links[i].path) %&gt;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% if (theme.home.sidebar.links[i].icon) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%- theme.home.sidebar.links[i].icon %&gt; icon-space&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;link-name&quot;</span>&gt;</span>&lt;%= __(i) %&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></div>

<h3 id="修改stylus"><a href="#修改stylus" class="headerlink" title="修改stylus"></a>修改stylus</h3><p>文件路径：<code>/themes/redefine/source/css/layout/home-sidebar.styl</code></p>
<div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.sidebar-links</span></span><br><span class="line">  <span class="selector-class">.social-contact-item</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.social-qr-container</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span></span><br><span class="line">      <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,<span class="number">100%</span>)</span><br><span class="line">      <span class="attribute">display</span>: none</span><br><span class="line">      <span class="attribute">width</span> <span class="number">100px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.social-contact-item</span><span class="selector-pseudo">:hover</span></span><br><span class="line">    <span class="attribute">color</span> <span class="built_in">var</span>(--primary-color)</span><br><span class="line">    <span class="selector-class">.social-qr-container</span></span><br><span class="line">      <span class="attribute">display</span>: block</span><br></pre></td></tr></table></figure></div>

<h2 id="hexo-douban-插件适配"><a href="#hexo-douban-插件适配" class="headerlink" title="hexo-douban 插件适配"></a>hexo-douban 插件适配</h2><p><a class="link"   href="https://github.com/mythsman/hexo-douban" >hexo-douban <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>一个在 Hexo 页面中嵌入豆瓣个人主页的小插件</p>
<h3 id="修改stylus样式文件"><a href="#修改stylus样式文件" class="headerlink" title="修改stylus样式文件"></a>修改stylus样式文件</h3><p>文件路径：<code>/themes/redefine/source/css/layout/_partials/page-template.styl</code></p>
<div class="highlight-container" data-rel="Styl"><figure class="iseeu highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.page-template-container</span></span><br><span class="line">    <span class="selector-class">.page-template-content</span></span><br><span class="line"><span class="comment">/* 豆瓣部分 */</span></span><br><span class="line">    <span class="selector-class">.idouban-tabs</span></span><br><span class="line">      <span class="selector-class">.idouban-tab</span></span><br><span class="line">        <span class="attribute">color</span> <span class="built_in">var</span>(--second-text-color)</span><br><span class="line">        <span class="attribute">cursor</span> pointer</span><br><span class="line">        <span class="attribute">font-family</span> <span class="variable">$default</span>-font-family</span><br><span class="line">        <span class="attribute">margin</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">5px</span> <span class="number">10px</span></span><br><span class="line">        <span class="attribute">padding</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="attribute">color</span> <span class="built_in">var</span>(--primary-color)</span><br><span class="line">          <span class="attribute">background-color</span> <span class="built_in">var</span>(--second-background-color)</span><br><span class="line">      </span><br><span class="line">      <span class="selector-class">.idouban-tab-active</span></span><br><span class="line">        <span class="attribute">color</span> <span class="built_in">var</span>(--primary-color) <span class="meta">!important</span></span><br><span class="line">        <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid</span><br><span class="line">        <span class="attribute">background-color</span> transparent</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.idouban-item</span></span><br><span class="line">      <span class="attribute">margin-top</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-small</span><br><span class="line">      <span class="attribute">border-bottom</span> <span class="number">0px</span> <span class="meta">!important</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--redefine-box-shadow-flat)</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="attribute">box-shadow</span> <span class="built_in">var</span>(--redefine-box-shadow)</span><br><span class="line">        <span class="attribute">transform</span> <span class="built_in">scale</span>(<span class="number">1.01</span>)</span><br><span class="line">        <span class="attribute">transition</span> all <span class="number">0.3s</span> ease</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.idouban-picture</span></span><br><span class="line">        <span class="attribute">position</span>:absolute</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">10px</span></span><br><span class="line">        <span class="attribute">top</span>: -<span class="number">5px</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.idouban-info</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">padding-top</span>:<span class="number">10px</span></span><br><span class="line">        <span class="attribute">top</span>:<span class="number">5px</span></span><br><span class="line">      <span class="selector-class">.idouban-info</span> <span class="selector-tag">a</span></span><br><span class="line">        <span class="attribute">text-decoration</span>:none</span><br><span class="line">        <span class="attribute">display</span>: -webkit-box</span><br><span class="line">        -webkit-box-orient: vertical</span><br><span class="line">        -webkit-line-clamp: <span class="number">1</span></span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br></pre></td></tr></table></figure></div>

<h3 id="bug修复"><a href="#bug修复" class="headerlink" title="bug修复"></a>bug修复</h3><p>如果打开single_page&#x2F;<a class="link"   href="https://swup.js.org/" >swup <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>，在页内加载的时候页脚会留一块多余空间，刷新后消失，强迫症的我肯定 不能忍！！！</p>
<p>观察之后发现，每次加载都会给<code>main-content-footer</code>加一个<code>style=height:634px</code>的类，这是造成空白的原因。结合swup的特性应该是某个script没有加载或刷新，判断该页没有内容，一下午没找出问题在哪，于是只能曲线救国。</p>
<h4 id="修改hexo系统配置"><a href="#修改hexo系统配置" class="headerlink" title="修改hexo系统配置"></a>修改hexo系统配置</h4><div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">swup:</span> <span class="literal">true</span> <span class="comment">#打开swup</span></span><br><span class="line">  <span class="attr">customize_layout:</span> <span class="string">douban</span> <span class="comment">#打开自定义布局，douban.ejs文件</span></span><br></pre></td></tr></table></figure></div>

<h4 id="新建模版文件"><a href="#新建模版文件" class="headerlink" title="新建模版文件"></a>新建模版文件</h4><p>文件路径：<code>/themes/redefine/layout/douban.ejs</code></p>
<p>将下述内容写入douban.ejs中，给<code>main-content</code>添加一个<code>min-height: 95vh</code>的样式，这样加载的时候main-content-footer就能识别到页面有内容，不会再添加<code>height</code>类</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line">&lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_widgets/progress-bar&#x27;</span>) %&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">main</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span> <span class="attr">id</span>=<span class="string">&quot;swup&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main-content-container flex flex-col justify-between min-h-dvh&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main-content-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &lt;%- partial(&#x27;_partials/navbar&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main-content-body&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main-content&quot;</span> <span class="attr">style</span>=<span class="string">&quot;min-height: 95vh&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &lt;%- partial(&#x27;_partials/page-template&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        </span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main-content-footer&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &lt;%- partial(&#x27;_partials/footer&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right-side-tools-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;%- partial(&#x27;_widgets/side-tools&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    &lt;%- partial(&#x27;_widgets/image-viewer&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    &lt;% if (theme.navbar.search.enable) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">        &lt;%- partial(&#x27;_widgets/local-search&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml">    &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span></span><br><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">global</span>.<span class="property">single_page</span> !== <span class="literal">false</span>) &#123; %&gt;</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_plugins/swup&#x27;</span>) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></div>

<h2 id="我的设备模版"><a href="#我的设备模版" class="headerlink" title="我的设备模版"></a>我的设备模版</h2><p>idea最初来自<a class="link"   href="https://blog.zhheo.com/equipment/" >张洪Heo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>，第一次看到他的页面觉得非常酷炫，于是打算移植过来</p>
<p>在他的博客中也有教程: <a class="link"   href="https://blog.zhheo.com/p/de771c8e.html" >Hexo的Butterfly魔改教程：我的装备，分享你在用的设备 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>但是当时没有找到这个教程，所以参考了<a class="link"   href="https://github.com/hexo-theme-Acrylic/Hexo-Theme-Acrylic-Next" >Hexo-Theme-Acrylic-Next <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>的代码</p>
<h3 id="修改page-template"><a href="#修改page-template" class="headerlink" title="修改page-template"></a>修改page-template</h3><p>文件路径：<code>/themes/redefine/layout/_partials/page-template.ejs</code></p>
<p>修改该文件，正确引用equipment.ejs</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;page-template-container&quot;</span>&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">    <span class="keyword">const</span> friendsTitle = [<span class="string">&#x27;friends&#x27;</span>, <span class="string">&#x27;friend&#x27;</span>, <span class="string">&#x27;友情链接&#x27;</span>, <span class="string">&#x27;友情鏈接&#x27;</span>, <span class="string">&#x27;友情鏈結&#x27;</span>, <span class="string">&#x27;友情鏈結&#x27;</span>, <span class="string">&#x27;朋友&#x27;</span>, <span class="string">&#x27;朋友們&#x27;</span>, <span class="string">&#x27;朋友们&#x27;</span>, <span class="string">&#x27;links&#x27;</span>,<span class="string">&#x27;link&#x27;</span>, <span class="string">&#x27;Link&#x27;</span>, <span class="string">&#x27;Links&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> friendsTypes = [<span class="string">&#x27;links&#x27;</span>, <span class="string">&#x27;link&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> isLoadFriendsLink = (</span><br><span class="line">            theme.<span class="property">links</span></span><br><span class="line">            &amp;&amp; (friendsTypes.<span class="title function_">includes</span>(page.<span class="property">type</span>) || friendsTitle.<span class="title function_">includes</span>(page.<span class="property">title</span>))</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">const</span> shuoshuoTitle = [<span class="string">&#x27;essays&#x27;</span>, <span class="string">&#x27;essay&#x27;</span>, <span class="string">&#x27;shuoshuo&#x27;</span>, <span class="string">&#x27;说说&#x27;</span>, <span class="string">&#x27;即刻短文&#x27;</span>, <span class="string">&#x27;Shuoshuo&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> shuoshuoTypes = [<span class="string">&#x27;essays&#x27;</span>, <span class="string">&#x27;essay&#x27;</span>, <span class="string">&#x27;shuoshuo&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> isLoadShuoshuo = (</span><br><span class="line">            (theme.<span class="property">essays</span> || theme.<span class="property">shuoshuo</span>)</span><br><span class="line">            &amp;&amp; (shuoshuoTypes.<span class="title function_">includes</span>(page.<span class="property">type</span>) || shuoshuoTitle.<span class="title function_">includes</span>(page.<span class="property">title</span>))</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">const</span> masonryTitles = [<span class="string">&#x27;masonry&#x27;</span>, <span class="string">&#x27;gallery&#x27;</span>, <span class="string">&#x27;Masonry&#x27;</span>, <span class="string">&#x27;Gallery&#x27;</span>, <span class="string">&#x27;照片墙&#x27;</span>, <span class="string">&#x27;照片牆&#x27;</span>, <span class="string">&#x27;相册&#x27;</span>, <span class="string">&#x27;相冊&#x27;</span>, <span class="string">&#x27;瀑布流&#x27;</span>, <span class="string">&#x27;瀑布流&#x27;</span>, <span class="string">&#x27;photos&#x27;</span>, <span class="string">&#x27;Photos&#x27;</span>, <span class="string">&#x27;photo&#x27;</span>, <span class="string">&#x27;Photo&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> masonryTypes = [<span class="string">&#x27;masonry&#x27;</span>, <span class="string">&#x27;gallery&#x27;</span>, <span class="string">&#x27;瀑布流&#x27;</span>, <span class="string">&#x27;相册&#x27;</span>, <span class="string">&#x27;photos&#x27;</span>, <span class="string">&#x27;photo&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> isLoadMasonry = (</span><br><span class="line">            (theme.<span class="property">masonry</span> || theme.<span class="property">gallery</span> || theme.<span class="property">photos</span>)</span><br><span class="line">            &amp;&amp; (masonryTypes.<span class="title function_">includes</span>(page.<span class="property">type</span>) || masonryTitles.<span class="title function_">includes</span>(page.<span class="property">title</span>))</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">const</span> equipmentTitles = [<span class="string">&#x27;equipment&#x27;</span>, <span class="string">&#x27;Equipment&#x27;</span>, <span class="string">&#x27;我的装备&#x27;</span>,<span class="string">&#x27;我的设备&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> equipmentTypes = [<span class="string">&#x27;equipment&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> isLoadequipment = (</span><br><span class="line">            (theme.<span class="property">equipment</span>)</span><br><span class="line">            &amp;&amp; (equipmentTypes.<span class="title function_">includes</span>(page.<span class="property">type</span>) || equipmentTitles.<span class="title function_">includes</span>(page.<span class="property">title</span>))</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">const</span> aboutTitles = [<span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;about me&#x27;</span>, <span class="string">&#x27;关于&#x27;</span>,<span class="string">&#x27;关于我&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> aboutTypes = [<span class="string">&#x27;about&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> isLoadabout = (</span><br><span class="line">            (theme.<span class="property">about</span>)</span><br><span class="line">            &amp;&amp; (aboutTypes.<span class="title function_">includes</span>(page.<span class="property">type</span>) || aboutTitles.<span class="title function_">includes</span>(page.<span class="property">title</span>))</span><br><span class="line">    )</span><br><span class="line">    %&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;% <span class="keyword">if</span> (isLoadFriendsLink) &#123; %&gt;</span><br><span class="line">        &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_widgets/friends-link&#x27;</span>) %&gt;</span><br><span class="line">    &lt;% &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isLoadShuoshuo) &#123; %&gt;</span><br><span class="line">        &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_widgets/essays&#x27;</span>) %&gt;</span><br><span class="line">    &lt;% &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isLoadMasonry) &#123; %&gt;</span><br><span class="line">        &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_widgets/masonry&#x27;</span>) %&gt;</span><br><span class="line">    &lt;% &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isLoadequipment) &#123; %&gt;</span><br><span class="line">        &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_widgets/equipment&#x27;</span>) %&gt;</span><br><span class="line">    &lt;% &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isLoadabout) &#123; %&gt;</span><br><span class="line">        &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_widgets/about&#x27;</span>) %&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-template-content markdown-body&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% if (isLoadFriendsLink || page.content || isLoadShuoshuo || isLoadMasonry || isLoadequipment || isLoadabout) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">            &lt;%- page.content %&gt;</span></span><br><span class="line"><span class="language-xml">        &lt;% &#125; else &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&lt;%- page.title %&gt;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-template-comments&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% if (page.hasOwnProperty(&#x27;comment&#x27;) &amp;&amp; (page.comment === true || page.comments === true) ) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">            &lt;%- partial(&#x27;_partials/comments/comment&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml">        &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="新建equipment"><a href="#新建equipment" class="headerlink" title="新建equipment"></a>新建equipment</h3><p>文件路径：<code>/themes/redefine/layout/_widgets/equipment.ejs</code></p>
<p>新建<code>equipment.ejs</code>，写入下列内容</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line">&lt;h1 <span class="keyword">class</span>=<span class="string">&quot;page-title-header&quot;</span>&gt;&lt;%= page.<span class="property">title</span> %&gt;&lt;/h1&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;equipment&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &lt;% if (site.data.equipment) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">        &lt;% for (let i in site.data.equipment) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item-cover&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item-cover-image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%= site.data.equipment[i].image %&gt;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&lt;%= site.data.equipment[i].name %&gt;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item-description&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item-name&quot;</span>&gt;</span>&lt;%= i %&gt;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item-specification&quot;</span>&gt;</span>&lt;%= site.data.equipment[i].specification %&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item-info&quot;</span>&gt;</span>&lt;%= site.data.equipment[i].info %&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &lt;% if (site.data.equipment[i].link) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;equipment-item-link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%= site.data.equipment[i].link %&gt;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>详情<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml">    &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div>

<h3 id="调整-stylus-样式"><a href="#调整-stylus-样式" class="headerlink" title="调整 stylus 样式"></a>调整 stylus 样式</h3><p>文件路径：<code>/themes/redefine/source/css/layout/_partials/page-template.styl</code></p>
<p>修改stylus文件，调整样式</p>
<div class="highlight-container" data-rel="Styl"><figure class="iseeu highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.page-template-container</span></span><br><span class="line"><span class="comment">/* 我的装备部分 */</span></span><br><span class="line">  <span class="selector-class">.equipment</span></span><br><span class="line">    <span class="attribute">display</span>: flex</span><br><span class="line">    <span class="attribute">flex-direction</span>: row</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> -<span class="number">16px</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">h2</span><span class="selector-class">.equipment-item-title</span></span><br><span class="line">      <span class="attribute">line-height</span>:<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.equipment-item</span></span><br><span class="line">      <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">33.33%</span> - <span class="number">24px</span>)</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">12px</span></span><br><span class="line">      <span class="attribute">border</span>: <span class="number">4px</span></span><br><span class="line">      <span class="attribute">overflow</span>: hidden</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">16px</span> <span class="number">12px</span></span><br><span class="line">      <span class="attribute">min-height</span>: <span class="number">350px</span></span><br><span class="line">      <span class="attribute">position</span>: relative</span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--redefine-box-shadow-flat)</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="attribute">box-shadow</span> <span class="built_in">var</span>(--redefine-box-shadow)</span><br><span class="line">        <span class="attribute">transform</span> <span class="built_in">scale</span>(<span class="number">1.02</span>)</span><br><span class="line">        <span class="attribute">transition</span> all <span class="number">0.3s</span> ease</span><br><span class="line"></span><br><span class="line">      +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">        <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">24px</span>)</span><br><span class="line"></span><br><span class="line">      +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">        <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">24px</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="selector-class">.equipment-item-cover</span></span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">      <span class="attribute">height</span>: <span class="number">200px</span></span><br><span class="line">      <span class="attribute">display</span>: flex</span><br><span class="line">      <span class="attribute">justify-content</span>: center</span><br><span class="line">      <span class="attribute">background</span>: <span class="built_in">var</span>(--third-background-color)</span><br><span class="line">    </span><br><span class="line">    <span class="selector-tag">img</span><span class="selector-class">.equipment-item-image</span></span><br><span class="line">      <span class="attribute">object-fit</span>: cover;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.equipment-item-description</span></span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.equipment-item-name</span></span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">18px</span></span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">8px</span></span><br><span class="line">        <span class="attribute">white-space</span>: nowrap</span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br><span class="line">        <span class="attribute">text-overflow</span>: ellipsis</span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.equipment-item-specification</span></span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--third-text-color)</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">white-space</span>: nowrap</span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br><span class="line">        <span class="attribute">text-overflow</span>: ellipsis</span><br><span class="line">      </span><br><span class="line">      <span class="selector-class">.equipment-item-info</span></span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">20px</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--third-text-color)</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">60px</span></span><br><span class="line">        <span class="attribute">display</span>: -webkit-box</span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br><span class="line">        -webkit-line-clamp: <span class="number">3</span></span><br><span class="line">        -webkit-box-orient: vertical</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">      </span><br><span class="line">      <span class="selector-tag">a</span><span class="selector-class">.equipment-item-link</span> </span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">8px</span></span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">8px</span></span><br><span class="line">        <span class="attribute">cursor</span>: pointer</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--third-text-color)</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">var</span>(--third-background-color)</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">a</span><span class="selector-class">.equipment-item-link</span><span class="selector-pseudo">:hover</span></span><br><span class="line">        <span class="attribute">color</span>: white</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">var</span>(--primary-color)</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><ol>
<li><p>创建我的设备页面</p>
  <div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page equipment</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>修改主题config文件，打开equipment功能，导航栏添加页面</p>
 <div class="highlight-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">equipment:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">navbar:</span></span><br><span class="line">    <span class="attr">links:</span></span><br><span class="line">        <span class="string">装备:</span></span><br><span class="line">          <span class="attr">icon:</span> <span class="string">fa-solid</span> <span class="string">fa-robot</span> <span class="comment">#图标</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">/equipment/</span> <span class="comment">#路径</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>创建装备存放文件</p>
<p> 在你的 Hexo 项目的 <code>source</code> 文件夹里增加 <code>_data</code> 文件夹（如果已有则跳过）</p>
<p> 在 <code>_data</code> 文件夹下新增 equipment.yml 文件</p>
<p> 在 masonry.yml 文件里面按照如下格式配置相册信息：</p>
 <div class="highlight-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">MacBook air:</span> </span><br><span class="line">  <span class="attr">image:</span> <span class="string">/assets/equipment/MacBook</span> <span class="string">air.png</span></span><br><span class="line">  <span class="attr">specification:</span> <span class="string">M1芯片(2020)</span> <span class="number">8</span><span class="string">+256G</span></span><br><span class="line">  <span class="attr">info:</span> <span class="string">使用4年仍然健步如飞，丝毫没有升级欲望</span></span><br><span class="line"></span><br><span class="line"><span class="attr">iPad mini6:</span> </span><br><span class="line">  <span class="attr">image:</span> <span class="string">/assets/equipment/iPad</span> <span class="string">mini6.png</span></span><br><span class="line">  <span class="attr">specification:</span> <span class="string">A15芯片</span> <span class="number">4</span><span class="string">+512G</span></span><br><span class="line">  <span class="attr">info:</span> <span class="string">上班搭子，正好放到白大褂口袋里</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>修改标题（可选）</p>
<p> 装备页默认根据 title: equipment 来匹配。</p>
<p> 如果需要自定义页面的标题，需要在 Front Matter 里面添加 type: equipment，即可自定义页面标题。</p>
</li>
</ol>
<h2 id="瀑布流相册懒加载实现"><a href="#瀑布流相册懒加载实现" class="headerlink" title="瀑布流相册懒加载实现"></a>瀑布流相册懒加载实现</h2><h2 id="iPhone状态栏沉浸式"><a href="#iPhone状态栏沉浸式" class="headerlink" title="iPhone状态栏沉浸式"></a>iPhone状态栏沉浸式</h2><div align="center"> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E5%80%BE%E5%90%91%E6%80%A7%E8%AF%84%E5%88%86%E5%8C%B9%E9%85%8D%20-Propensity%20Score%20Matching,%20PSM-%20%20Surgeon%20Kou.webp"
                      style="zoom : 40%" 
                > </div>

<p>使状态栏和浏览器底部的颜色和网站背景一致，从而实现沉浸式</p>
<p>文件路径：&#x2F;themes&#x2F;redefine&#x2F;layout&#x2F;_partials&#x2F;head.ejs</p>
<div class="highlight-container" data-rel="Routeros"><figure class="iseeu highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">&quot;theme-color&quot;</span> <span class="attribute">content</span>=<span class="string">&quot;&lt;%= theme.colors.primary %&gt;&quot;</span>&gt;</span><br></pre></td></tr></table></figure></div>

<p>修改为</p>
<div class="highlight-container" data-rel="Routeros"><figure class="iseeu highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">&quot;theme-color&quot;</span> <span class="attribute">content</span>=<span class="string">&quot;&quot;</span>&gt;</span><br></pre></td></tr></table></figure></div>

<p>文件路径：&#x2F;themes&#x2F;source&#x2F;js&#x2F;tools&#x2F;lightDarkSwitch.js</p>
<p>修改enableLightMode()函数</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">enableLightMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;dark-mode&quot;</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;dark&quot;</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;light-mode&quot;</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;light&quot;</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">iconDom</span>.<span class="property">className</span> = <span class="string">&quot;fa-regular fa-moon&quot;</span>;</span><br><span class="line">  main.<span class="property">styleStatus</span>.<span class="property">isDark</span> = <span class="literal">false</span>;</span><br><span class="line">  main.<span class="title function_">setStyleStatus</span>();</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">mermaidInit</span>(<span class="variable language_">this</span>.<span class="property">mermaidLightTheme</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setGiscusTheme</span>();</span><br><span class="line">  <span class="comment">// 更新 meta 标签的主题颜色为亮光模式</span></span><br><span class="line">  <span class="keyword">const</span> metaThemeColor = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;meta[name=&quot;theme-color&quot;]&#x27;</span>);</span><br><span class="line">  metaThemeColor.<span class="title function_">setAttribute</span>(<span class="string">&quot;content&quot;</span>, <span class="string">&quot;#fff&quot;</span>);  <span class="comment">// 设置为白色</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></div>

<p>修改enableDarkMode()函数</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">enableDarkMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;light-mode&quot;</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;light&quot;</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;dark-mode&quot;</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;dark&quot;</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">iconDom</span>.<span class="property">className</span> = <span class="string">&quot;fa-regular fa-brightness&quot;</span>;</span><br><span class="line">  main.<span class="property">styleStatus</span>.<span class="property">isDark</span> = <span class="literal">true</span>;</span><br><span class="line">  main.<span class="title function_">setStyleStatus</span>();</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">mermaidInit</span>(<span class="variable language_">this</span>.<span class="property">mermaidDarkTheme</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setGiscusTheme</span>();</span><br><span class="line">  <span class="comment">// 更新 meta 标签的主题颜色为暗黑模式</span></span><br><span class="line">  <span class="keyword">const</span> metaThemeColor = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;meta[name=&quot;theme-color&quot;]&#x27;</span>);</span><br><span class="line">  metaThemeColor.<span class="title function_">setAttribute</span>(<span class="string">&quot;content&quot;</span>, <span class="string">&quot;#202124&quot;</span>);  <span class="comment">// 设置为黑色</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></div>










]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Redfine</tag>
        <tag>主题优化</tag>
      </tags>
  </entry>
  <entry>
    <title>Restic 文件备份</title>
    <url>/2024/Restic%20%E6%96%87%E4%BB%B6%E5%A4%87%E4%BB%BD/</url>
    <content><![CDATA[<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 仓库密码</span></span><br><span class="line"><span class="built_in">export</span> RESTIC_PASSWORD=</span><br><span class="line"><span class="comment"># appdata</span></span><br><span class="line">restic -r /mnt/disk2/backup backup /mnt/cache/appdata</span><br><span class="line"><span class="comment"># music</span></span><br><span class="line">restic -r /mnt/disk2/backup backup /mnt/disk1/PTdown/bz/music</span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>Restic</tag>
        <tag>备份</tag>
      </tags>
  </entry>
  <entry>
    <title>RStudio 绘图中文字符乱码问题</title>
    <url>/2024/R%E7%BB%98%E5%9B%BE%E4%B8%AD%E6%96%87%E5%AD%97%E7%AC%A6%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h2><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;Cairo&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>

<p>打开R studio → Tools → Global Options → General → Graphics</p>
<p>将 Graphics 中 Graphics Device 设置为 Cairo</p>
<div align="center"> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-07%2019.39.10.webp"
                      style="zoom : 40%" 
                > </div>

<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;showtext&quot;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span>showtext<span class="punctuation">)</span></span><br><span class="line">showtext_auto<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>R</tag>
        <tag>绘图</tag>
        <tag>Cairo</tag>
      </tags>
  </entry>
  <entry>
    <title>WebP格式转换</title>
    <url>/2024/WebP%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<blockquote>
<p>WebP‌是一种同时提供有损压缩与无损压缩的图片文件格式，派生自视频编码格式VP8，由Google在购买On2 Technologies后发展出来，并以BSD授权条款发布。WebP格式的目标是减少文件大小，同时保持与JPEG格式相同的图片质量，从而减少图片在网络上的传输时间。</p>
</blockquote>
<p>WebP在保证图片质量的前提下大幅压缩图片大小，可大幅加快博客的加载速度，同时减少流量支出</p>
<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><h3 id="简单"><a href="#简单" class="headerlink" title="简单"></a>简单</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">/opt/homebrew/bin/cwebp <span class="string">&quot;<span class="variable">$f</span>&quot;</span> -o <span class="string">&quot;<span class="variable">$&#123;f%.*&#125;</span>.webp&quot;</span></span><br></pre></td></tr></table></figure></div>

<p><strong>使用该命令转换之后在 iPhone 中拍摄的竖直图会变为横躺样式</strong></p>
<p>因为 iPhone 拍摄的照片，其实方向就是平躺的，只是其元数据 EXIF 中包含了旋转信息，告诉了打开该图片的查看器应该旋转一个什么角度，但是转换为WebP之后，该EXIF似乎不能被很好支持</p>
<p>具体原因可参考<a class="link"   href="https://www.ddch.one/2024/05/18/WebpConversionHow/" >iPhone 照片转换 WebP 格式的奥秘 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h3><p>首先需要安装<code>exiftool</code>和<code>imagemagick</code></p>
<div class="highlight-container" data-rel="Mipsasm"><figure class="iseeu highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>exiftool</span><br><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>imagemagick</span><br></pre></td></tr></table></figure></div>

<p>进阶版命令，大致原理是使用exiftool读取照片EXIF方向信息，使用imagemagick根据EXIF方向信息旋转照片，清除EXIF信息，再进行WebP的转换</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$f</span>&quot;</span></span><br><span class="line">    IMAGE_FILE=<span class="string">&quot;<span class="variable">$f</span>&quot;</span></span><br><span class="line">    TEMP_IMAGE=<span class="string">&quot;.<span class="variable">$&#123;FILENAME&#125;</span>_temp.<span class="variable">$&#123;EXTENSION&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 检测旋转信息并旋转图片</span></span><br><span class="line">    ORIENTATION=$(/opt/homebrew/bin/exiftool -Orientation -n -S <span class="string">&quot;<span class="variable">$IMAGE_FILE</span>&quot;</span> | <span class="built_in">cut</span> -d: -f2 | <span class="built_in">tr</span> -d <span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$ORIENTATION</span>&quot;</span> != <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="comment"># 根据旋转标志旋转图像</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$ORIENTATION</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">            1)</span><br><span class="line">                ROTATE_DEGREES=<span class="string">&quot;0&quot;</span></span><br><span class="line">                ;;</span><br><span class="line">            3)</span><br><span class="line">                ROTATE_DEGREES=<span class="string">&quot;180&quot;</span></span><br><span class="line">                ;;</span><br><span class="line">            6)</span><br><span class="line">                ROTATE_DEGREES=<span class="string">&quot;270&quot;</span></span><br><span class="line">                ;;</span><br><span class="line">            8)</span><br><span class="line">                ROTATE_DEGREES=<span class="string">&quot;90&quot;</span></span><br><span class="line">                ;;</span><br><span class="line">            *)</span><br><span class="line">                ROTATE_DEGREES=<span class="string">&quot;0&quot;</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;No rotation needed or unsupported rotation tag.&quot;</span></span><br><span class="line">                ;;</span><br><span class="line">        <span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 旋转图片</span></span><br><span class="line">        /opt/homebrew/bin/magick <span class="string">&quot;<span class="variable">$IMAGE_FILE</span>&quot;</span> -rotate $((<span class="number">0</span> - <span class="variable">$ROTATE_DEGREES</span>)) <span class="string">&quot;<span class="variable">$TEMP_IMAGE</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 删除旋转 EXIF 信息</span></span><br><span class="line">    exiftool -Orientation= -overwrite_original <span class="string">&quot;<span class="variable">$TEMP_IMAGE</span>&quot;</span></span><br><span class="line">    /opt/homebrew/bin/cwebp <span class="string">&quot;<span class="variable">$TEMP_IMAGE</span>&quot;</span> -o <span class="string">&quot;<span class="variable">$&#123;f%.*&#125;</span>.webp&quot;</span></span><br><span class="line">    <span class="built_in">rm</span> <span class="string">&quot;<span class="variable">$TEMP_IMAGE</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div>

<h2 id="自动操作"><a href="#自动操作" class="headerlink" title="自动操作"></a>自动操作</h2><p>打开<code>自动操作</code>APP，新建<code>快速操作</code></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-15%2012.50.37.webp"
                      alt="截屏2024-11-15 12.50.37"
                ></p>
<p>拖入<code>运行shell脚本</code>，<code>传递输入</code>一定要选<code>作为自变量</code>，其他设置可参考下图自定义</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-15%2012.52.55.webp"
                      alt="截屏2024-11-15 12.52.55"
                ></p>
<p>写入脚本内容（或使用上方进阶命令）</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$f</span>&quot;</span></span><br><span class="line">	/opt/homebrew/bin/cwebp <span class="string">&quot;<span class="variable">$f</span>&quot;</span> -o <span class="string">&quot;<span class="variable">$&#123;f%.*&#125;</span>.webp&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div>

<p>选中图片后在快速操作菜单即可进行快速WebP转换</p>
<div align="center"> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-15%2012.56.05.webp"
                      style="zoom : 40%" 
                > </div>


<h2 id="Platypus"><a href="#Platypus" class="headerlink" title="Platypus"></a>Platypus</h2><p>使用<a class="link"   href="https://github.com/sveinbjornt/Platypus" >Platypus <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>可以将脚本转换为原生应用，实现将图片拖放后自动转换为WebP。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-15%2012.33.36.webp"
                      alt="截屏2024-11-15 12.33.36"
                ><br>Brew安装Platypus，或者直接下载安装</p>
<div class="highlight-container" data-rel="Mipsasm"><figure class="iseeu highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>--cask platypus</span><br></pre></td></tr></table></figure></div>

<p>点击<code>+New</code>新建脚本，并写入脚本内容</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">/opt/homebrew/bin/cwebp <span class="string">&quot;<span class="variable">$1</span>&quot;</span> -o <span class="string">&quot;<span class="variable">$&#123;1%.*&#125;</span>.webp&quot;</span></span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>进阶命令自行测试一下，我使用快速操作很方便，并且可以批量操作，未进一步测试</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-15%2012.37.44.webp"
                      alt="截屏2024-11-15 12.37.44"
                ><br><code>Interface</code> 选择<code>Droplet</code>，点击<code>Accept dropped items</code>后的<code>setting</code></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-15%2012.42.41.webp"
                      alt="截屏2024-11-15 12.42.41"
                ><br>勾选<code>Accept dropped files</code>，下面的<code>+/-</code>无法点击，分别拖入jpg图片和png图片即可添加两个后缀，其他照片同理</p>
<p>将图片拖到<code>Generic Application</code>即可添加APP图标，图标可以到<a class="link"   href="https://macosicons.com/#/" >macOSicons <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>下载</p>
<p><code>Create App</code>即可生成APP</p>
<p>引文：</p>
<ul>
<li><a class="link"   href="https://blog.powersee.top/2023/04/automator-quick-webp/" >自动操作 automator 快速将图片转为 webp <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://blog.powersee.top/2023/03/create-mac-app-from-command-line-scripts/" >将 Mac 上的 shell 脚本，变成原生 Mac 图形应用 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://www.ddch.one/2024/05/18/WebpConversionHow/" >iPhone 照片转换 WebP 格式的奥秘 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>WebP</tag>
      </tags>
  </entry>
  <entry>
    <title>Zotero 在引用中添加 PMID</title>
    <url>/2024/Zotero%20%E5%9C%A8%E5%BC%95%E7%94%A8%E4%B8%AD%E6%B7%BB%E5%8A%A0%20PMID/</url>
    <content><![CDATA[<p>外文的引文格式一般都要求 URL、DOI 等，但是最近投的一个杂志要求我在引文中添加PMID，我的方法大致如下</p>
<h2 id="添加-PMID-字段"><a href="#添加-PMID-字段" class="headerlink" title="添加 PMID 字段"></a>添加 PMID 字段</h2><p>一般由 Pebmed 添加到 Zotero 中的文献都会自带 PMID 字段，但是部分其他地方添加的文献会缺少该内容</p>
<p>我们通过 <a class="link"   href="https://github.com/retorquere/zotero-pmcid-fetcher" >zotero-pmcid-fetcher <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> 插件批量解决</p>
<ol>
<li>安装插件</li>
<li>选中论文的参考文献 → <code>右键</code> → <code>Fetch PMCID keys</code><br> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-12-07%2021.36.35.png"
                      alt="截屏2024-12-07 21.36.35"
                ></li>
<li>可选：自动添加PMID字段<br> <code>设置</code> → <code>高级设置</code> → <code>编辑器</code><br> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-12-07%2021.30.51.png"
                      alt="截屏2024-12-07 21.30.51"
                ><br> 输入<code>extensions.zotero.pmcid.auto</code>，添加 <code>extensions.zotero.pmcid.auto</code>字段，类型为<code>boolean</code>，内容为<code>true</code>，这样后续添加的文章即可自动添加 PMID 字段<br> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-12-07%2021.33.09.png"
                      alt="截屏2024-12-07 21.33.09"
                ></li>
</ol>
<h2 id="在引文样式中添加-PMID"><a href="#在引文样式中添加-PMID" class="headerlink" title="在引文样式中添加 PMID"></a>在引文样式中添加 PMID</h2><p><code>设置</code>→<code>引用</code>→选中所选样式→<code>样式编辑器</code><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-12-07%2021.39.51.png"
                      alt="截屏2024-12-07 21.39.51"
                ><br>在适当位置添加内容→<code>另存为</code>→重新导入样式文件</p>
<div class="highlight-container" data-rel="Routeros"><figure class="iseeu highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;text <span class="attribute">variable</span>=<span class="string">&quot;PMID&quot;</span> <span class="attribute">prefix</span>=<span class="string">&quot;PMID:&quot;</span>/&gt;</span><br></pre></td></tr></table></figure></div>

<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-12-07%2021.42.32.png"
                      alt="截屏2024-12-07 21.42.32"
                ><br>这样设置后，引文文献即可带PMID字段</p>
<p>引文：<a class="link"   href="https://forums.zotero.org/discussion/82239/adding-pmid-and-pmcid" >Adding PMID and PMCID 添加 PMID 和 PMCID <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>Zotero</tag>
        <tag>Pubmed</tag>
        <tag>PMID</tag>
      </tags>
  </entry>
  <entry>
    <title>UNRAID 为 Docker 设置全局代理</title>
    <url>/2024/UNRAID%E4%B8%BADocker%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<p>在增加docker时添加下面两个变量</p>
<div class="highlight-container" data-rel="Ini"><figure class="iseeu highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">HTTP_PROXY</span>=http://<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">20171</span></span><br><span class="line"><span class="attr">HTTPS_PROXY</span>=http://<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">20171</span></span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>UNRAID</tag>
        <tag>Docker</tag>
        <tag>代理</tag>
      </tags>
  </entry>
  <entry>
    <title>中文催稿信</title>
    <url>/2024/%E4%B8%AD%E6%96%87%E5%82%AC%E7%A8%BF%E4%BF%A1/</url>
    <content><![CDATA[<p>尊敬的【xxx杂志】编辑：<br>    您好！<br>    我于【xx年xx月xx日】向贵刊来稿《xxxxx》一份（稿件号：xxx），稿件已进入专家外审3月余，状态未更新，来信主要想咨询稿件是否有进一步修改意见，以便尽早按意见调整修改稿件。<br>    感谢您在百忙中抽空查看此信，我非常期待您的回复，并衷心希望论文能顺利在贵刊发表。祝您工作顺利，万事顺意!<br>    此致，<br>敬礼！<br>xxxx医院 xxx（右对齐）<br>xx年xx月xx日（右对齐）</p>
]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>投稿</tag>
      </tags>
  </entry>
  <entry>
    <title>R语言常用代码</title>
    <url>/2024/R%E8%AF%AD%E8%A8%80%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/</url>
    <content><![CDATA[<h2 id="基本处理"><a href="#基本处理" class="headerlink" title="基本处理"></a>基本处理</h2><h3 id="数据清理"><a href="#数据清理" class="headerlink" title="数据清理"></a>数据清理</h3><h4 id="删除包含空值的个案"><a href="#删除包含空值的个案" class="headerlink" title="删除包含空值的个案"></a>删除包含空值的个案</h4><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">data_cache <span class="operator">&lt;-</span> database_group<span class="punctuation">[</span>complete.cases<span class="punctuation">(</span>database_group<span class="operator">$</span>group<span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></div>

<h3 id="筛选数据"><a href="#筛选数据" class="headerlink" title="筛选数据"></a>筛选数据</h3><h4 id="Subset"><a href="#Subset" class="headerlink" title="Subset"></a>Subset</h4><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">subset_df <span class="operator">&lt;-</span> subset<span class="punctuation">(</span>df<span class="punctuation">,</span> tl5 <span class="operator">+</span> tl6 <span class="operator">+</span> tl7 <span class="operator">+</span> tl8 <span class="operator">==</span> <span class="number">3</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>

<p>可以结合逻辑运算符来指定多个条件，如：<code>&amp;</code>（与）、<code>|</code>（或）、<code>!</code>（非）</p>
<div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">subset_df <span class="operator">&lt;-</span> subset<span class="punctuation">(</span>df<span class="punctuation">,</span> tl5 <span class="operator">+</span> tl6 <span class="operator">+</span> tl7 <span class="operator">+</span> tl8 <span class="operator">==</span> <span class="number">3</span> <span class="operator">&amp;</span> tl1 <span class="operator">+</span> tl2 <span class="operator">+</span> tl3 <span class="operator">+</span> tl4 <span class="operator">==</span> <span class="number">0</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>

<h4 id="逻辑条件"><a href="#逻辑条件" class="headerlink" title="逻辑条件"></a>逻辑条件</h4><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">filtered_df <span class="operator">&lt;-</span> df<span class="punctuation">[</span>df<span class="operator">$</span>tl5 <span class="operator">+</span> df<span class="operator">$</span>tl6 <span class="operator">+</span> df<span class="operator">$</span>tl7 <span class="operator">+</span> df<span class="operator">$</span>tl8 <span class="operator">==</span> <span class="number">3</span><span class="punctuation">,</span> <span class="punctuation">]</span></span><br></pre></td></tr></table></figure></div>

<p>将<code>group</code>列数值为2&#x2F;3的个案生成新数据框<code>database_G23</code></p>
<div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">database_G23 <span class="operator">&lt;-</span> database_5mm<span class="punctuation">[</span>database_5mm<span class="operator">$</span>group <span class="operator">%in%</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></div>

<h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">data<span class="operator">$</span>group<span class="punctuation">[</span>data<span class="operator">$</span>seg4 <span class="operator">+</span> data<span class="operator">$</span>seg5 <span class="operator">==</span> <span class="number">1</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="number">1</span></span><br><span class="line">data<span class="operator">$</span>group<span class="punctuation">[</span>data<span class="operator">$</span>seg4 <span class="operator">+</span> data<span class="operator">$</span>seg5 <span class="operator">==</span> <span class="number">2</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="number">2</span></span><br></pre></td></tr></table></figure></div>

<h3 id="Merge"><a href="#Merge" class="headerlink" title="Merge"></a>Merge</h3><p>根据键值合并两张表&#x3D;VLOOKUP</p>
<div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment">#vlookup </span></span><br><span class="line">merge<span class="punctuation">(</span>tableA<span class="punctuation">,</span>tableB<span class="punctuation">,</span>by<span class="operator">=</span><span class="string">&quot;idno&quot;</span><span class="punctuation">)</span></span><br><span class="line">merge<span class="punctuation">(</span>tableA<span class="punctuation">,</span>tableB<span class="punctuation">,</span>by<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;id&quot;</span><span class="punctuation">,</span> <span class="string">&quot;sex&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>

<h3 id="Apply"><a href="#Apply" class="headerlink" title="Apply"></a>Apply</h3><p>apply函数是最常用的代替for循环的函数。apply函数可以对矩阵、数据框、数组(二维、多维)，按行或列进行循环计算，对子元素进行迭代，并把子元素以参数传递的形式给自定义的FUN函数中，并以返回计算结果。</p>
<div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">apply<span class="punctuation">(</span>X<span class="punctuation">,</span> MARGIN<span class="punctuation">,</span> FUN<span class="punctuation">,</span> ...<span class="punctuation">)</span></span><br><span class="line"><span class="comment"># X:数组、矩阵、数据框</span></span><br><span class="line"><span class="comment"># MARGIN: 按行计算或按按列计算，1表示按行，2表示按列</span></span><br><span class="line"><span class="comment"># FUN: 自定义的调用函数</span></span><br></pre></td></tr></table></figure></div>

<p>sltl是肿瘤的长径，sltw是肿瘤的宽径，我想要求肿瘤的最长径，并且存储在totaltd列中</p>
<div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">database_outcome<span class="punctuation">[</span>totaltd<span class="punctuation">]</span><span class="operator">&lt;-</span> apply<span class="punctuation">(</span>database_outcome<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;sltl&#x27;</span><span class="punctuation">,</span><span class="string">&#x27;sltw&#x27;</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="built_in">max</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>

<h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>查看数据框特定的某几列（尤其是在数据框列数特别多的时候蛮有用）</p>
 <div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">View<span class="punctuation">(</span>database_outcome<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;sltl&#x27;</span><span class="punctuation">,</span><span class="string">&#x27;sltw&#x27;</span><span class="punctuation">,</span><span class="string">&#x27;totaltd&#x27;</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>

<h3 id="Ifelse"><a href="#Ifelse" class="headerlink" title="Ifelse"></a>Ifelse</h3><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span><span class="punctuation">(</span>con<span class="punctuation">,</span> statement1<span class="punctuation">,</span> statement2<span class="punctuation">)</span></span><br><span class="line"><span class="comment"># con是逻辑条件，当逻辑条件的值为TRUE时，则输出statement1的值，否则输出statement2的值。</span></span><br><span class="line"><span class="comment"># 函数可以多层嵌套</span></span><br></pre></td></tr></table></figure></div>

<p>我要根据<code>srmar</code>的值将数据分为3组，<code>0.5&lt;srmar&lt;=1</code>为组1，<code>srmar&gt;1</code>为组2，<code>0&lt;srmar≤0.5</code>为组3（不包含srmar为0的值），如果都不满足则为<code>NA</code>（空值）</p>
<div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">database_5mm<span class="operator">$</span>group <span class="operator">&lt;-</span> ifelse<span class="punctuation">(</span>database_5mm<span class="operator">$</span>srmar <span class="operator">&gt;</span> <span class="number">0.5</span> <span class="operator">&amp;</span> database_5mm<span class="operator">$</span>srmar <span class="operator">&lt;=</span> <span class="number">1</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span>ifelse<span class="punctuation">(</span>database_5mm<span class="operator">$</span>srmar<span class="operator">&gt;</span><span class="number">1</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">,</span>ifelse<span class="punctuation">(</span>database_5mm<span class="operator">$</span>srmar<span class="operator">&gt;</span><span class="number">0</span> <span class="operator">&amp;</span> database_5mm<span class="operator">$</span>srmar <span class="operator">&lt;=</span> <span class="number">0.5</span> <span class="punctuation">,</span><span class="number">3</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>

<h3 id="分类变量"><a href="#分类变量" class="headerlink" title="分类变量"></a>分类变量</h3><p>批量设置分类变量</p>
<div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">factor_list <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;A&#x27;</span><span class="punctuation">,</span><span class="string">&#x27;B&#x27;</span><span class="punctuation">)</span></span><br><span class="line">    <span class="keyword">for</span><span class="punctuation">(</span>var <span class="keyword">in</span> factor_list<span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">        data_total_type<span class="punctuation">[[</span>var<span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> as.factor<span class="punctuation">(</span>data_total_type<span class="punctuation">[[</span>var<span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<h2 id="基线水平"><a href="#基线水平" class="headerlink" title="基线水平"></a>基线水平</h2><h2 id="生存分析"><a href="#生存分析" class="headerlink" title="生存分析"></a>生存分析</h2><h3 id="OS"><a href="#OS" class="headerlink" title="OS"></a>OS</h3><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">ggsurvplot<span class="punctuation">(</span></span><br><span class="line">    survfit<span class="punctuation">(</span>Surv<span class="punctuation">(</span>OS<span class="punctuation">,</span>StatusforOS<span class="punctuation">)</span><span class="operator">~</span>group<span class="punctuation">,</span>data<span class="operator">=</span>df<span class="punctuation">)</span><span class="punctuation">,</span>  </span><br><span class="line">    <span class="comment"># OS 生存时间</span></span><br><span class="line">    <span class="comment"># StatusforOS 生存状态，1表示事件发生，即死亡</span></span><br><span class="line">    <span class="comment"># group 为分组依据</span></span><br><span class="line">    <span class="comment"># data为数据框</span></span><br><span class="line">    legend.title <span class="operator">=</span> <span class="string">&quot;Group&quot;</span><span class="punctuation">,</span> <span class="comment"># 图例的标题</span></span><br><span class="line">    legend.labs <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;RH&quot;</span><span class="punctuation">,</span> <span class="string">&quot;RS&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="comment"># 图例显示的名称</span></span><br><span class="line">    risk.table <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="comment"># 是否显示risk table</span></span><br><span class="line">    pval <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="comment"># 是否显示P value </span></span><br><span class="line">    conf.int <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span>         </span><br><span class="line">    xlab <span class="operator">=</span> <span class="string">&quot;Overall Survival (months)&quot;</span><span class="punctuation">,</span>   <span class="comment"># 横坐标标题</span></span><br><span class="line">    break.time.by <span class="operator">=</span> <span class="number">12</span><span class="punctuation">,</span>     <span class="comment"># 横坐标刻度</span></span><br><span class="line">    ggtheme <span class="operator">=</span> theme_light<span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">    risk.table.y.text.col <span class="operator">=</span> <span class="built_in">T</span><span class="punctuation">,</span> <span class="comment"># risk table文字注释颜色</span></span><br><span class="line">    risk.table.y.text <span class="operator">=</span> <span class="literal">FALSE</span><span class="punctuation">,</span> <span class="comment"># risk table显示条形而不是文字</span></span><br><span class="line">    <span class="punctuation">)</span></span><br></pre></td></tr></table></figure></div>
<h2 id="倾向性评分匹配（PSM）"><a href="#倾向性评分匹配（PSM）" class="headerlink" title="倾向性评分匹配（PSM）"></a>倾向性评分匹配（PSM）</h2><div class="highlight-container" data-rel="R"><figure class="iseeu highlight r"><table><tr><td class="code"><pre><span class="line">data_psm <span class="operator">&lt;-</span> matchit<span class="punctuation">(</span>group<span class="operator">~</span>UICC7<span class="punctuation">,</span>data<span class="operator">=</span>data_cache1<span class="punctuation">,</span>method <span class="operator">=</span> <span class="string">&quot;nearest&quot;</span><span class="punctuation">,</span>ratio<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># caliper = 0.2, 添加卡钳值</span></span><br><span class="line">summary<span class="punctuation">(</span>data_psm<span class="punctuation">)</span></span><br><span class="line">data_postpsm <span class="operator">&lt;-</span> match.data<span class="punctuation">(</span>data_psm<span class="punctuation">)</span> </span><br><span class="line"><span class="comment"># 将匹配后的数据集存储在data_psm中</span></span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title>倾向性评分匹配 (Propensity Score Matching, PSM)</title>
    <url>/2024/%E5%80%BE%E5%90%91%E6%80%A7%E8%AF%84%E5%88%86%E5%8C%B9%E9%85%8D%EF%BC%88Propensity%20Score%20Matching,%20PSM%EF%BC%89/</url>
    <content><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>研究类型：①实验性研究；②观察性研究</p>
<p>实验性研究中随机对照实验（RCT）最常用，并且因为能够平衡组间所有混杂因素，使得两组唯一区别就是干预因素，所以被称为临床研究“金标准”（在样本量足够大的情况下，只要是纯随机，组间混杂因素大概率是平衡的）</p>
<p>但是临床研究无法做到纯随机分组，eg：</p>
<p>在<a class="link"   href="https://meetings.asco.org/abstracts-presentations/221417" >该项研究 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>当中，选择手术治疗或 SBRT 已经是既定的事实，而不是将病人随机分为两组后一组使用手术治疗，另一组使用 SBRT 疗法。（假设年轻人更倾向于 SBRT，而老年人更侵向于手术治疗。而我们已知年龄也是影响疗效的一项因素，这样结果大概率是 SBRT 的疗效优于手术治疗，这样的实验结果就存在偏倚。我们就需要用 PSM 平衡掉年龄「混杂因素」的影响）</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>通过统计学方法，把所有的混杂因素通过打分并计算总分的方式，给出每一个受试对象的混杂总分，这个混杂总分就是倾向性评分(Propensity Score，PS)</p>
<p>PS 评分差距在 0.02 分（也可以适当放宽到 0.03 分)的两个受试对象可以配成一对，从而实现组间混杂因素的平衡（这两个受试对象必须来自不同组，一个来自试验组，一个来自对照组)。PS 评分差距，也叫做匹配容差(Match Tolerance)，还可以称为卡钳值，一般为 0.02 或 0.03，卡钳值越大，能匹配上的个体就越多，但是组间混杂因素的平衡性就会变差。</p>
<blockquote>
<p>在 A&#x2F;B 组当中分别找一个元素进行配对，相当于找对象，A1 与 B3 门当户对</p>
</blockquote>
<h2 id="不足之处"><a href="#不足之处" class="headerlink" title="不足之处"></a>不足之处</h2><p>样本丢失！因为有些样本无法找到合适的对象（无法找到另外一组中和自己 PS 评分差异在 0.02 分以内的样本)，需要舍弃。</p>
<p>这就意味着，只有大样本的观察性研究才适合进行 PSM。</p>
<h2 id="实际操作"><a href="#实际操作" class="headerlink" title="实际操作"></a>实际操作</h2><p>因为 PSM 的配对方法可以分为 1:1 和 1:N ，所以操作方法也可以分为两类。1:1 配对通常使用 SPSS 就可完成，而 1:N 配对则主要依赖 R 语言和 Python 完成。</p>
<h3 id="SPSS"><a href="#SPSS" class="headerlink" title="SPSS"></a>SPSS</h3><p>1. 以“分组”为因变量，混杂因素为自变量，建立二元 Logistic 回归模型</p>
<p>2. 根据回归运算结果计算出每一个受试对象的倾向性评分(PS）</p>
<p>3. 根据 PS 匹配两组间的受试对象，实现混杂因素的组间平衡</p>
<h3 id="R"><a href="#R" class="headerlink" title="R"></a>R</h3>]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>R</tag>
        <tag>PSM</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Mac 终端自定义指令</title>
    <url>/2024/%E5%9C%A8%20Mac%20%E7%BB%88%E7%AB%AF%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="确定终端类型"><a href="#确定终端类型" class="headerlink" title="确定终端类型"></a>确定终端类型</h2><p>未修改过终端类型的话，一般都是zsh</p>
<p>终端顶部都会显示终端类型，下图即为zsh，若未显示可输入<code>ps</code>，<code>CMD</code>部分即为终端类型</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-19%2018.57.30.webp"
                      alt="截屏2024-11-19 18.57.30"
                ></p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>直接打开修改</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">open ~/.zshrc</span><br><span class="line">open ~/.bashrc</span><br></pre></td></tr></table></figure></div>

<p>使用 vi 打开修改</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">vi ~/.zshrc</span><br><span class="line">vi ~/.bashrc</span><br></pre></td></tr></table></figure></div>

<h2 id="快捷指令写法"><a href="#快捷指令写法" class="headerlink" title="快捷指令写法"></a>快捷指令写法</h2><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> 简写后的指令=<span class="string">&quot;原本的指令&quot;</span></span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>在引号外不要添加额外的空格<br>如果想在指令中添加空格，在配置文件里用 _ 代替（在终端里使用空格）</p>
</blockquote>
<p>几个例子</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> edit=<span class="string">&quot;open ~/.zshrc&quot;</span> <span class="comment">#使用edit指令快速修改快捷指令</span></span><br><span class="line"><span class="built_in">alias</span> hd=<span class="string">&quot;cd /Users/coco/blog &amp;&amp; hexo deploy&quot;</span> <span class="comment"># 使用hp指令快速发布hexo文章</span></span><br><span class="line"><span class="built_in">alias</span> jn=<span class="string">&quot;jupyter notebook&quot;</span> <span class="comment"># 快速打开jupyter notebook</span></span><br></pre></td></tr></table></figure></div>

<p>引文：<a class="link"   href="https://sspai.com/post/77135" >一日一技｜怎么在 Mac 终端自定义指令 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>zsh</tag>
        <tag>bash</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS 无法开启“家人共享”</title>
    <url>/2024/%E6%97%A0%E6%B3%95%E5%BC%80%E5%90%AF%E2%80%9C%E5%AE%B6%E4%BA%BA%E5%85%B1%E4%BA%AB%E2%80%9D/</url>
    <content><![CDATA[<div align="center"> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/IMG_5988.webp"
                      style="zoom : 20%" 
                > </div>


<p>打开<a class="link"   href="https://account.apple.com/" >网页版Apple ID <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>找到icloud设置</p>
<p>找到管理你的icloud</p>
<p>找到家人共享</p>
<p>关掉</p>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>iCloud</tag>
        <tag>家人共享</tag>
      </tags>
  </entry>
  <entry>
    <title>更改 Mac 文件的默认打开方式</title>
    <url>/2024/%E6%9B%B4%E6%94%B9%20Mac%20%E6%96%87%E4%BB%B6%E7%9A%84%E9%BB%98%E8%AE%A4%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="更改某一个文件的默认打开方式"><a href="#更改某一个文件的默认打开方式" class="headerlink" title="更改某一个文件的默认打开方式"></a>更改某一个文件的默认打开方式</h2><p>选中文件后<code>右键</code> → 按下<code>Option 键</code> → <code>始终以此方式打开</code></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-19%2019.33.08.webp"
                      alt="截屏2024-11-19 19.33.08"
                ></p>
<p>&lt; 该方法仅适用于所选择的这一个文件，并不适用于其他文件（包括同一类型的文件），于是才会有第二种方法</p>
<h2 id="更改同类型文件的默认打开方式"><a href="#更改同类型文件的默认打开方式" class="headerlink" title="更改同类型文件的默认打开方式"></a>更改同类型文件的默认打开方式</h2><p>选中文件后<code>右键</code> →<code>显示简介</code>→<code>打开方式</code>→选择需要的应用后点击<code>全部更改</code></p>
<div align="center"> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/assets/2024/%E6%88%AA%E5%B1%8F2024-11-19%2019.37.59.webp"
                      style="zoom : 40%" 
                > </div>

<p>引文：<br><a class="link"   href="https://sspai.com/post/28394" >基础教程：如何更改 Mac 文件的默认打开方式 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>文件</tag>
      </tags>
  </entry>
  <entry>
    <title>投稿系统导航</title>
    <url>/2024/%E6%8A%95%E7%A8%BF%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%88%AA/</url>
    <content><![CDATA[<h2 id="中文"><a href="#中文" class="headerlink" title="中文"></a>中文</h2><table>
<thead>
<tr>
<th>北大核心</th>
<th>科技核心</th>
<th align="left">名称</th>
<th align="left">投稿系统</th>
</tr>
</thead>
<tbody><tr>
<td>✅</td>
<td>✅</td>
<td align="left">中国实用外科杂志</td>
<td align="left"><a class="link"   href="https://www.zgsyz.com/journalx_wk/authorLogOn.action" >https://www.zgsyz.com/journalx_wk/authorLogOn.action <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td>✅</td>
<td>✅</td>
<td align="left">中国普通外科</td>
<td align="left"><a class="link"   href="http://www.zpwz.net/zgptwkzz/author/login" >http://www.zpwz.net/zgptwkzz/author/login <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td></td>
<td>✅</td>
<td align="left">肝胆胰外科</td>
<td align="left"><a class="link"   href="https://journal.ids.fzyun.cn/auth/realms/journal/protocol/openid-connect/auth?client_id=journal-gdywkzz-author" >https://journal.ids.fzyun.cn/auth/realms/journal/protocol/openid-connect/auth?client_id=journal-gdywkzz-author <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td></td>
<td>✅</td>
<td align="left">罕见病研究</td>
<td align="left"><a class="link"   href="https://www.manuscripts.com.cn/hjbyj" >https://www.manuscripts.com.cn/hjbyj <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
</tbody></table>
<h2 id="英文"><a href="#英文" class="headerlink" title="英文"></a>英文</h2><table>
<thead>
<tr>
<th>中科院分区</th>
<th>IF</th>
<th align="left">名称</th>
<th align="left">投稿系统</th>
</tr>
</thead>
<tbody><tr>
<td>3</td>
<td></td>
<td align="left">Hepatobiliary &amp; Pancreatic Diseases International</td>
<td align="left"><a class="link"   href="https://mc03.manuscriptcentral.com/hbpdint" >https://mc03.manuscriptcentral.com/hbpdint <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>科研</category>
      </categories>
      <tags>
        <tag>投稿系统</tag>
        <tag>导航</tag>
      </tags>
  </entry>
  <entry>
    <title>青龙面板使用浏览器抓取京东 Cookie</title>
    <url>/2024/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF%E4%BD%BF%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8A%93%E5%8F%96%E4%BA%AC%E4%B8%9CCookie/</url>
    <content><![CDATA[<p>Chrome  隐私模式 打开<a class="link"   href="https://m.jd.com/]()" >京东 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>按F12键打开开发者工具,点击Network</p>
<p>登陆</p>
<p>复制cookie，我们只需要 <code>pt_pin=xxxx;pt_key=xxxx;</code>这一段，两个分号必不可少</p>
<p>存储于 <code>JD_COOKIE</code>变量中，多个账号以相同名称再建变量即可</p>
]]></content>
      <categories>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>青龙面板</tag>
        <tag>京东</tag>
      </tags>
  </entry>
</search>
